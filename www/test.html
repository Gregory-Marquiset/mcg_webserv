<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8">
		<title>Webserv Testeur</title>
		<link rel="stylesheet" href="css/style.css">
		<script src="js/theme.js" defer></script>
		<script src="js/tester.js" defer></script>
	</head>
	<body>

		<div class="fixed-top-buttons">
			<button onclick="toggleTheme()" title="Changer de thème">🎨</button>
			<a href="login.html" title="Se connecter">🔐</a>
			<a href="index.html" title="Home">🏠</a>
		</div>

		<h1>Webserv Testeur</h1>

		<!-- Requête Personnalisée -->
		<div class="section">
			<h2>Envoyer une requête HTTP</h2>
			<form id="httpForm">
				<label>URL relative :</label>
				<input type="text" id="url" value="/" required />

				<label>Méthode :</label>
				<select id="method">
					<option>GET</option>
					<option>POST</option>
					<option>DELETE</option>
				</select>

				<label>Corps (pour POST) :</label>
				<textarea id="body" rows="4"></textarea>

				<button type="submit">Envoyer</button>
			</form>
			<div id="result"></div>
		</div>

		<!-- Boutons CGI -->
		<div class="section">
			<h2>Test de CGI</h2>
			<button onclick="sendRequest('/cgi-bin/test.py')">CGI Python</button>
			<button onclick="sendRequest('/cgi-bin/test.php')">CGI PHP</button>
			<button onclick="sendRequest('/cgi-bin/test.pl')">CGI Perl</button>
		</div>

		<!-- Simulation d'erreurs -->
		<div class="section">
			<h2>Erreurs HTTP</h2>
			<button onclick="sendRequest('/notfound')">404 Not Found</button>
			<button onclick="sendRequest('/forbidden')">403 Forbidden</button>
			<button onclick="sendRequest('/server-error')">500 Internal Server Error</button>
		</div>

		<!-- Session et cookies -->
		<div class="section">
			<h2>Cookies / Session</h2>
			<button onclick="showCookies()">Afficher les cookies</button>
			<div id="cookies"></div>
		</div>

		<!-- Upload fichier -->
		<form id="uploadForm">
			<input type="file" id="fileInput" name="files" multiple>
			<button type="submit">Envoyer fichier(s) (POST)</button>
		</form>		

		<!-- Logs -->
		<div class="section">
			<h2>Logs de requête/réponse</h2>
			<div id="log"></div>
		</div>
	</body>
</html>
